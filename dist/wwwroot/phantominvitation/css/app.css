/* ===============================
   Phantom Air — App stylesheet
   =============================== */

/* ---- Theme tokens ---- */
:root{
  --gold:#d9b36b;        /* primary gold accent */
  --gold-2:#f6cc5d;
  --cream:#f7f0e6;
  --ink:#0b0b0d;
  --ink-2:#131318;
  --fg:#f2f2f2;
  --muted:#c9c9c9;
  --velvet-800:#2b0a0a;
  --velvet-900:#1b0505;
}

/* ---- Reset ---- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
a{ color:inherit; text-decoration:none; }

/* ---- Backdrop + typography ---- */
body{
  margin:0;
  color:var(--fg);
  background:
    radial-gradient(900px 620px at 15% 10%, #23232a 0%, transparent 60%),
    radial-gradient(800px 520px at 85% -10%, #1b1b20 0%, transparent 60%),
    linear-gradient(180deg, #0c0c10, #0b0b0d 35%, #0b0b0d);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Helvetica Neue";
}

/* ---- Common blocks ---- */
.section{ padding: clamp(10px, 2.6vw, 24px); }
.stack{ display:flex; gap:10px; flex-wrap:wrap; }

.card{
  background: linear-gradient(180deg, rgba(12,12,18,.75), rgba(18,10,12,.75));
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  padding: clamp(12px, 2.3vw, 20px);
  box-shadow:0 8px 26px rgba(0,0,0,.35);
}

h1,h2,h3,strong{ color:#c59806; }
.heading-chandelier{
  --c: radial-gradient(circle at 50% 0, var(--gold-2) 0 2px, transparent 3px);
  height:12px; background:var(--c),var(--c),var(--c);
  background-size:10px 10px; background-repeat:repeat-x;
  background-position:left bottom, center bottom, right bottom;
  opacity:.5; margin-top:4px;
}

/* ---- Buttons ---- */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 14px; border-radius:8px; font-weight:700;
  background: linear-gradient(180deg, #4f1b1b, #2f0e0e);
  color:#f0e8d0; border:1px solid rgba(255,255,255,.12);
  transition: filter .15s ease;
}
.btn:hover{ filter:brightness(1.08); }
.btn.ghost{
  background:transparent; color:var(--gold-2);
  border:1px solid rgba(246,204,93,.35);
}

/* ===============================
   Intro Letter Overlay (envelope)
   =============================== */
.intro-overlay{
  position:fixed; inset:0;
  background: radial-gradient(circle at center, #141015 0%, #0a090b 100%);
  display:flex; align-items:center; justify-content:center; text-align:center;
  z-index:9999; transition:opacity .6s ease;
}
.intro-overlay.opened{ opacity:0; pointer-events:none; }

.envelope{
  width:min(92vw, 420px); height:260px; position:relative; cursor:pointer;
  perspective:1000px; display:flex; align-items:center; justify-content:center;
}
.envelope .flap{
  position:absolute; inset:0 auto auto 0; width:100%; height:50%;
  background: linear-gradient(180deg, #4d0000 0%, #2a0000 100%);
  clip-path: polygon(0 0, 100% 0, 50% 100%);
  transform-origin: top center;
  box-shadow: 0 8px 20px rgba(0,0,0,.5);
  transition: transform .6s cubic-bezier(0.21,1,0.21,1);
}
.envelope .letter{
  position:absolute; inset:10% 6% 6% 6%; background:var(--cream); color:#e00f0f;
  border-radius:10px; padding:22px; box-shadow:0 8px 26px rgba(255, 0, 0, 0.45);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
}
.envelope.open .flap{ transform: rotateX(180deg); }
.envelope .letter h2{ margin:.2rem 0 .35rem; letter-spacing:.03em; font-size:1.5rem; font-weight:600; color:#2a0000; }
.envelope .letter p{ margin:.2rem 0 .6rem; opacity:.85; font-size:.95rem; }
.envelope .letter .friday{ margin:.25rem 0 .75rem; opacity:.9; font-weight:500; }
.envelope .letter .btn{
  background: linear-gradient(180deg, #bfa35a 0%, #9e7d28 100%);
  color:#000; border:none; padding:8px 16px; font-weight:600; border-radius:6px;
  box-shadow:0 2px 6px rgba(0,0,0,.25);
}
.envelope .letter .btn:hover{
  background: linear-gradient(180deg, #d4b15e 0%, #b38729 100%);
}

/* ===============================
   Top bar + layout + nav
   =============================== */
.topbar{
  position:sticky; top:0; z-index:50; height:56px; display:flex; align-items:center; gap:10px;
  padding:0 12px; background: linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.35));
  backdrop-filter: blur(6px); border-bottom:1px solid rgba(255,255,255,.06);
}
.brand{ font-weight:800; letter-spacing:.18em; color:var(--cream); }

.layout{
  display:grid; grid-template-columns:240px 1fr; gap:16px; padding:12px;
}
.sidenav{
  display:flex; flex-direction:column; gap:8px; padding:10px;
  border-radius:12px; background:rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.07);
}
.sidenav a{
  display:block; padding:10px 12px; border-radius:8px; font-weight:600; color:#ddd;
}
.sidenav a.active, .sidenav a:hover{ background:rgba(255,255,255,.08); }

/* Hamburger (mobile) */
.hamburger{
  width:40px; height:40px; display:none; align-items:center; justify-content:center;
  border:1px solid rgba(255,255,255,.35); background:rgba(255,255,255,.15); border-radius:8px;
}
.hamburger span{ display:block; width:18px; height:2px; background:#f7f0e6; margin:3px 0; }

@media (max-width:900px){
  .hamburger{ display:inline-flex; }
  .layout{ grid-template-columns:1fr; gap:10px; padding:10px; }
  .sidenav{
    position:fixed; top:56px; left:0; right:0; transform:translateY(-110%);
    transition:transform .25s ease; border-radius:0 0 12px 12px; z-index:40;
  }
  .sidenav.open{ transform:translateY(0); }
}

.maxw{ max-width:min(980px, 100%); margin-inline:auto; padding-inline:clamp(8px, 3vw, 20px); }
.maxw--wide{ max-width: 1100px; }

/* ===============================
   Flight Map (SVG)
   =============================== */
.map-wrap{ width:100%; padding:12px; }
.map-wrap svg{ width:100%; height:auto; display:block; }

.route{
  stroke:#ffd166; stroke-width:10; stroke-dasharray:14 18; vector-effect:non-scaling-stroke;
}
.labels .city{
  font-size:clamp(14px, 2.2vw, 28px); font-weight:700;
  paint-order:stroke; stroke:rgba(0,0,0,.45); stroke-width:3;
}
.airport{ r:10; }

@media (max-width:900px){ .route{ stroke-width:8; stroke-dasharray:12 16; } }
@media (max-width:600px){ .route{ stroke-width:6; stroke-dasharray:10 14; } }

/* ===============================
   Tickets — compact scale + styling
   =============================== */
.tickets-wrap{ max-width:min(860px, 100%); margin-inline:auto; }

.ticket-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap:12px;
  padding:16px;
  box-sizing:border-box;
}

.ticket-card{
  display:grid; grid-template-columns:1fr 12px 90px;
  border-radius:16px; background:rgba(10,10,16,.7);
  border:1px solid rgba(255,255,255,.08); overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
}
.ticket-main{ padding:12px; position:relative; }
.ticket-stub{
  padding:8px; display:grid; place-content:center; gap:10px;
  background:linear-gradient(180deg,#0e0b10,#170a0a);
}
.ticket-divider{
  width:12px;
  background: radial-gradient(circle at 50% 12px, transparent 8px, rgba(255,255,255,.08) 8px) repeat-y;
  background-size:18px 24px;
}

/* airline + route */
.airline{ font-weight:900; letter-spacing:.12em; color:#000000; }
.airline span{ color:var(--gold-2); }
.route{ display:flex; align-items:center; gap:10px; margin:8px 0 4px; }
.route .iata{ font-size:22px; color:var(--gold-2); font-weight:800; }
.route .plane{ font-size:18px; opacity:.9; }

/* meta grid */
.meta{ display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:12px; margin:10px 0 6px; }
.meta small{ display:block; opacity:.65; font-size:12px; }
.meta strong{ font-size:16px; }
.venue{ font-size:13px; opacity:.8; }

/* stub visuals */
.ticket-stub .mask{ font-size:28px; text-align:center; }
.ticket-stub .barcode{
  height:60px; width:100%;
  background: repeating-linear-gradient(90deg,#fff,#fff 2px,transparent 2px,transparent 5px);
  opacity:.6; border-radius:4px;
}

/* scale tweak for very small phones */
@media (max-width:420px){
  .ticket-card{ grid-template-columns:1fr 12px 70px; }
}

/* ===============================
   Utility
   =============================== */
.center{ display:grid; place-items:center; }
.m-auto{ margin:auto; }
.mt-1{ margin-top:4px; } .mt-2{ margin-top:8px; } .mt-3{ margin-top:12px; } .mt-4{ margin-top:16px; }
.mb-2{ margin-bottom:8px; } .mb-3{ margin-bottom:12px; } .mb-4{ margin-bottom:16px; }

/* ===== Scratch-Off ===== */
.scratch-wrap{
  width: 100%;
  display:grid;
  place-items:center;
  gap:8px;
}
.scratch-wrap canvas{
  width:100%;
  height:auto;
  display:block;
  border-radius:12px;
}
.scratch-result{
  background:rgba(255,221,130,.08);
  border:1px solid rgba(255,221,130,.25);
  padding:8px 12px; border-radius:10px; color:#ffd166;
}

/* ===== Memory Match layout & visual ===== */
.memory-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(60px, 1fr)); /* compact base */
  gap:10px;
}
@media (max-width: 380px){
  .memory-grid{
    grid-template-columns: repeat(4, minmax(54px, 1fr));
    gap:8px;
  }
}

.memory-grid button{
  aspect-ratio:1/1;
  border-radius:12px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.20);
  font-size:28px;
  color:#fff;
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .15s ease, background .2s ease, border-color .2s ease;
}
.memory-grid button:hover{
  transform: translateY(-1px);
  border-color: rgba(255,255,255,.28);
}
.memory-grid button:active{
  transform: translateY(0);
}

/* Candle highlight effect when face-up */
.candle-lit{ position: relative; }
.candle-lit::after{
  content: "";
  position: absolute;
  inset: -6px;
  pointer-events: none;
  border-radius: 12px;
  background:
    radial-gradient(circle at 50% 28%, rgba(255, 230, 150, .55), rgba(255, 230, 150, .35) 25%, transparent 60%);
  filter: blur(1px);
  animation: candleFlicker 1.2s ease-in-out infinite;
}
@keyframes candleFlicker{
  0%, 100% { opacity: .55; transform: translateY(0) }
  40%      { opacity: .9 }
  60%      { opacity: .7; transform: translateY(-1px) }
}

/* Prize callout */
.prize-callout{
  margin-top:10px;
  padding:10px 12px;
  border-radius:10px;
  background: rgba(217,179,107,.14);
  border: 1px solid rgba(246,204,93,.35);
}

/* Prevent scroll/zoom during interactions on game surfaces */
.scratch-surface,
.mem-grid,
#tap-wrap {
  touch-action: none;
}

/* Memory cards scale nicely on phones */
.mem-card {
  min-width: 64px;
  font-size: clamp(22px, 6vw, 32px);
}
